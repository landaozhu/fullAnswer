## 概念
![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/2/22/1706c89b92f7503f~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)
- 第一次握手：客户端将报文标志位SYN置为1，随机产生一个序号值seq=J，保存在TCP首部的序列号字段里，**指明客户端打算连接的服务器端口，并将该数据包发送给服务端**，发送完毕后，客户端进入SYN_SENT状态，等待服务器确认。
- 第二次握手：**服务端收到数据包**后由标志位SYN=1**知道客户端请求连接**，服务端嫁给你TCP报文标志位和ACK都置为1，ack=J+1，随机产生一个序列号值seq=K，并将该数据包发送给**客户端确认连接请求**，服务器进入SYN_RCVD状态
- 第三次握手：**客户端收到确认后**，检查ack是否为J+1，ACK是否为1，如果正确则**连接建立成功**，客户端和服务端进入ESTABLISHED状态，完成三次握手，随后客户端与服务器端之间**可以开始传输数据**了。
### 通俗的话描述
- 第一次客户端把数据包发给服务端，等待服务端确认
- 第二次服务端收到客户端数据包，得知它要请求连接，于是告诉客户端同意请求连接，进入等待状态
- 第三次客户端收到服务端的确认，知道服务端已经同意建立连接，于是连接建立成功，开始传输数据。
## 为什么需要三次握手
假设客户端发送第一个连接请求报文并没有丢失，由于长时间延误，导致很长时间才达到服务端，但服务却发出确认，同意连接，连接就建立，但是客户端不知道，并不会发送数据，这样服务端资源就白白浪费了。
- [一文彻底搞懂 TCP三次握手、四次挥手过程及原理](https://juejin.cn/post/6844904070000410631?searchId=20230910134416E725E5216C31DD516CD4)